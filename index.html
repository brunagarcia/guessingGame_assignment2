<!DOCTYPE html>
<html>

<head>
  <meta charset="utf-8">
  <title>Guessing the Number Game! - Bruna Garcia</title>
  <!-- Bootstrap -->
  <link href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm"
    crossorigin="anonymous">
  <!-- My CSS -->
  <link rel="stylesheet" href="css/style.css">

  <!-- Jquery -->
  <script src="https://code.jquery.com/jquery-3.3.1.min.js" integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8="
    crossorigin="anonymous"></script>
  <script src="https://code.jquery.com/ui/1.11.4/jquery-ui.min.js" integrity="sha256-xNjb53/rY+WmG+4L6tTl9m6PpqknWZvRt0rO1SRnJzw="
    crossorigin="anonymous"></script>

  <!-- Bundle js -->
  <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.1.0/js/bootstrap.bundle.min.js" integrity="sha384-lZmvU/TzxoIQIOD9yQDEpvxp6wEU32Fy0ckUgOH4EIlMOCdR823rg4+3gWRwnX1M"
    crossorigin="anonymous"></script>
  <!-- Bootstrap js -->
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js" integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl"
    crossorigin="anonymous"></script>

</head>

<body>

  <!-- Form -->
  <header>
    <h1 class="display-4 text-center">Welcome to
      <span class="green"> Guessing The Number </span> game!!</h1>
  </header>

  <div class="jumbotron">
    <!-- Initial Form -->
    <form class="container justify-content-center" id="initialForm">

      <div class="form-group row justify-content-center">
        <input type="text" class="form-control col-md-4" id="userName" placeholder="Type your name here!">
      </div>

      <div class="form-group row justify-content-center">
        <input type="text" class="form-control col-md-4" id="userMax" placeholder="Max number for range?">
      </div>

      <div class="form-group row justify-content-center">
        <select class="custom-select custom-select-md mb-3" id="levels">
          <option selected>Choose your difficult level:</option>
          <option value="1">Easy Peasy</option>
          <option value="2">Medium Mediano</option>
          <option value="3">Hard as a Rock</option>
        </select>
      </div>

      <div class="text-center">
        <button type="button" id="startGame" class="btn btn-success">Let's Play!</button>
      </div>

    </form>

    <!-- Guess Form -->
    <form class="container justify-content-center" id="guessForm">

      <div class="display-4" id="textDisplay">

      </div>
      <div class="form-group row justify-content-center" id="guessContainer">
        <input type="text" class="form-control col-md-4" id="guessUser" placeholder="Guess the number here:">
      </div>

      <div class="text-center">
        <button type="button" id="startGame" class="btn btn-success">Let's Play!</button>
      </div>

    </form>


  </div>

  <script>
    $(function () {
      // Should happen on first screen
      $('#guessForm').hide();

      // When the game starts >>> 
      $("#startGame").click(function () {
        startGame();

      })

      //Should happen on the second screen

      //0 - Get user Name
      // get user name from id userName jquery
      function getUserName() {
        let name = $('#userName').val();
        $("#textDisplay").append(`<h2 class='row justify-content-center'> Hello ${name}! </h2>`);
        console.log(`${name} check!`);
        $('#initialForm').hide();
        $('#guessForm').show();
        return name;
      }

      //1 - Choose level of difficult.
      function chooseDifficult() {
        console.log("Choose level of difficult.")
        let level = Number($('#levels').val())
        let maxTry;
        if (level === 1) {
          return 10;

        } else if (level === 2) {
          return 8;

        } else if (level === 2) {
          return 5;
        }
      }

      //2 - get max number from user
      function getMaxFromUser() {
        console.log("get max number from user")
        maxGuess = $('#userMax').val();
        $("#textDisplay").append(`<h2 class='row justify-content-center'> 
                                  Guess a number between <span class="orange"> 1 </span>
                                  and <span class="orange"> ${maxGuess}</span></h2>`);
        if (isNaN(maxGuess)) {
          $('#guessContainer').append(`<p> Please </p>`);
        }
        return Number(maxGuess);
      }

      //3 - Generate random number with base on userMax
      function generateRandomNumber(max, min) {
        console.log("Generate random number with base on userMax")
        return Math.floor(Math.random() * (max - min)) + min;
      }

      //3 - Get user guess
      function getGuessFromUser() {
        console.log("Get user guess")
        let userGuess = $("#guessUser").val();
        if (isNaN(userGuess)) {

          userGuess = prompt('You gotta type a NUMBER please! Between 1 to ' + maxGuess + '?');
        }
        console.log('Get initial guess ' + userGuess + ' check');
        return Number(userGuess);
      }

      //4 - Check Guess value
      function isGuessCorrect(goal, guess) {
        // if (goal === guess) {
        //   return true;
        // } else {
        //   return false;
        // }
      }

      //----> Starting game function
      function startGame() {
        console.log("Start Game Func running...")
        let min = 1;

        //declare variables to call the functions:
        let name = getUserName();
        let maxTry = chooseDifficult();
        let maxGuess = getMaxFromUser();
        let goal = generateRandomNumber(maxGuess, min);
        let userGuess = getGuessFromUser();
        let guessCheck = isGuessCorrect(goal, userGuess);

        //Matching goal x guess
        //   for (i = 0; i < maxTry; i++) {

        //     guessCheck = isGuessCorrect(goal, userGuess);

        //     if (userGuess === 0) {
        //       alert("You try 0 and it's not valid. Play again!");
        //       return;

        //     } else if (!isNaN(userGuess) && goal < userGuess) {
        //       // userGuess = prompt('Too high, try another number');

        //     } else if (!isNaN(userGuess) && goal > userGuess) {
        //       // userGuess = prompt('Too low, try another number!');

        //     } else if (isNaN(userGuess)) {
        //       // userGuess = prompt('You gotta type a NUMBEEEER!!! Try again!');

        //     } else {
        //       alert('You just WON! Congratulations!');
        //       guessCheck = isGuessCorrect(goal, userGuess);
        //       return;
        //     }
        //   }
        //   alert('You have used all your ' + i + ' attempts! Loser!');
        // }

      }
    })
  </script>

</body>

</html>